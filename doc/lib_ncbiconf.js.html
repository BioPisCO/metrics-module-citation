<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: lib/ncbiconf.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/ncbiconf.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>//
//  Setup path and parameters.
//


//  Endpoints for different NCBI API options
var EInfo_ROOT = 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/einfo.fcgi',
 	ESearch_ROOT = 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi',
 	EPost_ROOT = 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/epost.fcgi',
 	ESummary_ROOT = 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi',
 	EFetch_ROOT = 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi'

// version has changed from 1.0 to 2.0, is important add the version at the end of query
// filter is the Search Field that get citation information. Includes all words and numbers in the title, 
// abstract and article body, as well as in table and figure captions and in the article reference section.
// db by default is PublicMed Central. It can be parameterised for distinct dbs. 
  
var version = 'version=2.0',
	filter = '[text word]',
	db = 'db=pmc',
	query = 'term='

/**
 * Endpoints configuration and access.
 * @constructor
 */

var NCBIConf = function () {
 
}

NCBIConf.prototype = {
 /**
 * Get the specific endpoint.
 * @param {string} type - NCBI endpoints (e.g. esearch).
 * @memberOf  NCBIConf
 */
  path: function (type) {
    return getPath(type);
  },
   /**
 * Obtain the correct parameters syntax.
 * @param {string} type - NCBI endpoints (e.g. esearch).
 * @memberOf  NCBIConf
 */
  params: function (type, params) {
    return getParams(type, params);
  }
  
};
/**
 * NCBIConf module.
 * @module NCBIConf
 */
module.exports = NCBIConf

function getPath(type){
	switch (type) {
    case "einfo":
        return EInfo_ROOT;
    case "esearch":
        return ESearch_ROOT;
    case "epost":
        return EPost_ROOT;
    case "esummary":
        return ESummary_ROOT;
    case "efetch":
        return EFetch_ROOT;
 }   
};

// This version only suport esearch parameters
function getParams(type, params){
	switch (type) {
		case "einfo":
			return db+'&amp;'+query+params+filter+'&amp;'+version; // must change
		case "esearch":
			return db+'&amp;'+query+getParametersFormat(params, filter)+'&amp;'+version;
		case "epost":
			return db+'&amp;'+getParametersFormat(params, filter)+'&amp;'+version; // must change
		case "esummary":
			return db+'&amp;'+getParametersFormat(params, filter)+'&amp;'+version; // must change
		case "efetch":
			return db+'&amp;'+getParametersFormat(params, filter)+'&amp;'+version; // must change
	}
    
};

function getParametersFormat(params, filter){
	var paramsFormated = '(' + params.replace(/;/g, filter+") AND (")  + filter+')';
	paramsFormated = paramsFormated.replace(/,/g, filter+" OR ");
	//console.log(paramsFormated);
	return paramsFormated;	

}

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Citation.html">Citation</a></li><li><a href="module-NCBIConf.html">NCBIConf</a></li><li><a href="module-NCBIRequest.html">NCBIRequest</a></li></ul><h3>Classes</h3><ul><li><a href="Citation.html">Citation</a></li><li><a href="NCBIConf.html">NCBIConf</a></li><li><a href="NCBIRequest.html">NCBIRequest</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.0-dev</a> on Fri Oct 28 2016 17:23:56 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
